basic understadning
ğŸ“– READ (GET notes) â€” You already know this
ğŸŸ¢ WHEN?
Page loads
ğŸ“ FILES USED
app/notes/page.tsx
app/api/notes/route.ts
ğŸ” FLOW
Page loads
â†“
useEffect runs
â†“
fetch("/api/notes", GET)
â†“
API GET() runs
â†“
JSON returned
â†“
setNotes()
â†“
UI updates 


CREATE (POST note)
ğŸŸ¢ WHEN?
User clicks Add Note button
Form is submitted
ğŸ“ FRONTEND â€” page.tsx
async function createNote() {
  const res = await fetch("/api/notes", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      title: "New Note",
      content: "Hello world",
    }),
  });

  const newNote = await res.json();
  setNotes((prev) => [...prev, newNote]);
}

ğŸ“ BACKEND â€” route.ts
export async function POST(req: Request) {
  const body = await req.json();

  const newNote = {
    id: crypto.randomUUID(),
    ...body,
  };

  notes.push(newNote);

  return NextResponse.json(newNote);
}

ğŸ” CREATE FLOW
User clicks Add
â†“
createNote()
â†“
POST /api/notes
â†“
POST() runs
â†“
New note created
â†“
JSON returned
â†“
setNotes([...])
â†“
UI updates

âœï¸ UPDATE (PUT note)
ğŸŸ¢ WHEN?
User edits a note
Clicks Save
ğŸ“ FRONTEND â€” page.tsx
async function updateNote(id: string) {
  const res = await fetch(`/api/notes/${id}`, {
    method: "PUT",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      title: "Updated title",
    }),
  });

  const updated = await res.json();

  setNotes((prev) =>
    prev.map((note) => (note.id === id ? updated : note))
  );
}

ğŸ“ BACKEND â€” app/api/notes/[id]/route.ts
export async function PUT(req: Request, { params }: any) {
  const body = await req.json();

  notes = notes.map((note) =>
    note.id === params.id ? { ...note, ...body } : note
  );

  const updated = notes.find((n) => n.id === params.id);
  return NextResponse.json(updated);
}

ğŸ” UPDATE FLOW
User edits note
â†“
updateNote(id)
â†“
PUT /api/notes/:id
â†“
PUT() runs
â†“
Note updated
â†“
JSON returned
â†“
setNotes(map)
â†“
UI updates



ğŸ—‘ï¸ DELETE (DELETE note)
ğŸŸ¢ WHEN?
User clicks delete button
ğŸ“ FRONTEND â€” page.tsx
async function deleteNote(id: string) {
  await fetch(`/api/notes/${id}`, {
    method: "DELETE",
  });

  setNotes((prev) => prev.filter((note) => note.id !== id));
}


ğŸ“ BACKEND â€” app/api/notes/[id]/route.ts
export async function DELETE(_: Request, { params }: any) {
  notes = notes.filter((note) => note.id !== params.id);
  return NextResponse.json({ success: true });
}
ğŸ” DELETE FLOW
User clicks delete
â†“
deleteNote(id)
â†“
DELETE /api/notes/:id
â†“
DELETE() runs
â†“
Note removed
â†“
Response returned
â†“
setNotes(filter)
â†“
UI updates




ğŸ”‘ VERY IMPORTANT PATTERN (MEMORIZE)
Backend changes data
Frontend mirrors data
Frontend never assumes â€” it updates UI only after API response.